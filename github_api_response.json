[{"url":"https://api.github.com/repos/golang/go/issues/68004","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/68004/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/68004/comments","events_url":"https://api.github.com/repos/golang/go/issues/68004/events","html_url":"https://github.com/golang/go/issues/68004","id":2353997390,"node_id":"I_kwDOAWBuf86MTyZO","number":68004,"title":"proposal: import/path: I hope there is an official golang GUI library and control library that is actively maintained and supports a similar set of standard controls as Delphi7's. It should also have the ability to support third-party custom control libraries.","user":{"login":"xiaokentrl","id":97455744,"node_id":"U_kgDOBc8OgA","avatar_url":"https://avatars.githubusercontent.com/u/97455744?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaokentrl","html_url":"https://github.com/xiaokentrl","followers_url":"https://api.github.com/users/xiaokentrl/followers","following_url":"https://api.github.com/users/xiaokentrl/following{/other_user}","gists_url":"https://api.github.com/users/xiaokentrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaokentrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaokentrl/subscriptions","organizations_url":"https://api.github.com/users/xiaokentrl/orgs","repos_url":"https://api.github.com/users/xiaokentrl/repos","events_url":"https://api.github.com/users/xiaokentrl/events{/privacy}","received_events_url":"https://api.github.com/users/xiaokentrl/received_events","type":"User","site_admin":false},"labels":[{"id":236419512,"node_id":"MDU6TGFiZWwyMzY0MTk1MTI=","url":"https://api.github.com/repos/golang/go/labels/Proposal","name":"Proposal","color":"ededed","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-14T19:55:09Z","updated_at":"2024-06-14T19:55:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Proposal Details\n\n**I hope there is an official golang GUI library and control library that is actively maintained and supports a similar set of standard controls as Delphi7's. It should also have the ability to support third-party custom control libraries.**","reactions":{"url":"https://api.github.com/repos/golang/go/issues/68004/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/golang/go/issues/68004/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/golang/go/issues/68003","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/68003/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/68003/comments","events_url":"https://api.github.com/repos/golang/go/issues/68003/events","html_url":"https://github.com/golang/go/issues/68003","id":2353862079,"node_id":"I_kwDOAWBuf86MTRW_","number":68003,"title":"x/pkgsite: package removal request for github.com/jeaguil/go-mesencryp","user":{"login":"jeaguil","id":70793814,"node_id":"MDQ6VXNlcjcwNzkzODE0","avatar_url":"https://avatars.githubusercontent.com/u/70793814?v=4","gravatar_id":"","url":"https://api.github.com/users/jeaguil","html_url":"https://github.com/jeaguil","followers_url":"https://api.github.com/users/jeaguil/followers","following_url":"https://api.github.com/users/jeaguil/following{/other_user}","gists_url":"https://api.github.com/users/jeaguil/gists{/gist_id}","starred_url":"https://api.github.com/users/jeaguil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeaguil/subscriptions","organizations_url":"https://api.github.com/users/jeaguil/orgs","repos_url":"https://api.github.com/users/jeaguil/repos","events_url":"https://api.github.com/users/jeaguil/events{/privacy}","received_events_url":"https://api.github.com/users/jeaguil/received_events","type":"User","site_admin":false},"labels":[{"id":1778483574,"node_id":"MDU6TGFiZWwxNzc4NDgzNTc0","url":"https://api.github.com/repos/golang/go/labels/pkgsite","name":"pkgsite","color":"efacc1","default":false,"description":""},{"id":4151646470,"node_id":"LA_kwDOAWBuf873dRkG","url":"https://api.github.com/repos/golang/go/labels/pkgsite/package-removal","name":"pkgsite/package-removal","color":"C6D225","default":false,"description":"Issues for package removal. See https://pkg.go.dev/about#removing-a-package"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/22","html_url":"https://github.com/golang/go/milestone/22","labels_url":"https://api.github.com/repos/golang/go/milestones/22/labels","id":1067491,"node_id":"MDk6TWlsZXN0b25lMTA2NzQ5MQ==","number":22,"title":"Unreleased","description":"Issues that do not affect released Go code and binaries.\r\n","creator":{"login":"rsc","id":104030,"node_id":"MDQ6VXNlcjEwNDAzMA==","avatar_url":"https://avatars.githubusercontent.com/u/104030?v=4","gravatar_id":"","url":"https://api.github.com/users/rsc","html_url":"https://github.com/rsc","followers_url":"https://api.github.com/users/rsc/followers","following_url":"https://api.github.com/users/rsc/following{/other_user}","gists_url":"https://api.github.com/users/rsc/gists{/gist_id}","starred_url":"https://api.github.com/users/rsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rsc/subscriptions","organizations_url":"https://api.github.com/users/rsc/orgs","repos_url":"https://api.github.com/users/rsc/repos","events_url":"https://api.github.com/users/rsc/events{/privacy}","received_events_url":"https://api.github.com/users/rsc/received_events","type":"User","site_admin":false},"open_issues":1874,"closed_issues":6926,"state":"open","created_at":"2015-04-14T18:48:22Z","updated_at":"2024-06-14T18:15:18Z","due_on":"2099-12-31T08:00:00Z","closed_at":null},"comments":1,"created_at":"2024-06-14T18:14:21Z","updated_at":"2024-06-14T18:18:30Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### What is the path of the package that you would like to have removed?\n\ngithub.com/jeaguil/go-mesencryp\n\n### Are you the owner of this package?\n\nYes\n\n### What is the reason that you could not retract this package instead?\n\nThe related repository has been deleted.","reactions":{"url":"https://api.github.com/repos/golang/go/issues/68003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/golang/go/issues/68003/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/golang/go/issues/68002","repository_url":"https://api.github.com/repos/golang/go","labels_url":"https://api.github.com/repos/golang/go/issues/68002/labels{/name}","comments_url":"https://api.github.com/repos/golang/go/issues/68002/comments","events_url":"https://api.github.com/repos/golang/go/issues/68002/events","html_url":"https://github.com/golang/go/issues/68002","id":2353801082,"node_id":"I_kwDOAWBuf86MTCd6","number":68002,"title":"x/tools/gopls: improvements to loading behavior","user":{"login":"findleyr","id":57144380,"node_id":"MDQ6VXNlcjU3MTQ0Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/57144380?v=4","gravatar_id":"","url":"https://api.github.com/users/findleyr","html_url":"https://github.com/findleyr","followers_url":"https://api.github.com/users/findleyr/followers","following_url":"https://api.github.com/users/findleyr/following{/other_user}","gists_url":"https://api.github.com/users/findleyr/gists{/gist_id}","starred_url":"https://api.github.com/users/findleyr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findleyr/subscriptions","organizations_url":"https://api.github.com/users/findleyr/orgs","repos_url":"https://api.github.com/users/findleyr/repos","events_url":"https://api.github.com/users/findleyr/events{/privacy}","received_events_url":"https://api.github.com/users/findleyr/received_events","type":"User","site_admin":false},"labels":[{"id":1270193002,"node_id":"MDU6TGFiZWwxMjcwMTkzMDAy","url":"https://api.github.com/repos/golang/go/labels/gopls","name":"gopls","color":"f4c8a6","default":false,"description":"Issues related to the Go language server, gopls."},{"id":1546201836,"node_id":"MDU6TGFiZWwxNTQ2MjAxODM2","url":"https://api.github.com/repos/golang/go/labels/Tools","name":"Tools","color":"fbca04","default":false,"description":"This label describes issues relating to any tools in the x/tools repository."}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/golang/go/milestones/352","html_url":"https://github.com/golang/go/milestone/352","labels_url":"https://api.github.com/repos/golang/go/milestones/352/labels","id":10679287,"node_id":"MI_kwDOAWBuf84AovP3","number":352,"title":"gopls/v0.17.0","description":"","creator":{"login":"findleyr","id":57144380,"node_id":"MDQ6VXNlcjU3MTQ0Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/57144380?v=4","gravatar_id":"","url":"https://api.github.com/users/findleyr","html_url":"https://github.com/findleyr","followers_url":"https://api.github.com/users/findleyr/followers","following_url":"https://api.github.com/users/findleyr/following{/other_user}","gists_url":"https://api.github.com/users/findleyr/gists{/gist_id}","starred_url":"https://api.github.com/users/findleyr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findleyr/subscriptions","organizations_url":"https://api.github.com/users/findleyr/orgs","repos_url":"https://api.github.com/users/findleyr/repos","events_url":"https://api.github.com/users/findleyr/events{/privacy}","received_events_url":"https://api.github.com/users/findleyr/received_events","type":"User","site_admin":false},"open_issues":116,"closed_issues":3,"state":"open","created_at":"2024-03-13T15:11:19Z","updated_at":"2024-06-14T17:29:36Z","due_on":null,"closed_at":null},"comments":1,"created_at":"2024-06-14T17:29:36Z","updated_at":"2024-06-14T17:31:50Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This issue aggregates some work I'd like to do to refine the `go/packages.Load` calls made by gopls. Generally speaking, these fall into the category of \"using gopls' knowledge of the workspace state to refine loading patterns\". This should benefit users across the board, but may in particular help for users of go/packages drivers that have different performance characteristics than the go command.\r\n\r\nA word on terminology: we refer to the packages data returned by `go/packages.Load` as _package metadata_.\r\n\r\nConsidering only the simple case of a module workspace, metadata loading works approximately as follows (some edge cases are ignored). All loads are inclusive of `-deps`.\r\n1. On startup, load `<modulePath>/...`\r\n2. When a file change affects metadata, expand that change to all \"possibly affected\" packages, which includes\r\n  - all packages containing the file\r\n  - if the package clause changed, all packages with files in the same directory as the file\r\n  - all packages that have import cycles (it's too hard to determine whether the change could have resolved cycles)\r\n3. When metadata is invalidated for a package, also invalidate its importers, recursively (the reverse transitive closure)\r\n4. When processing a file-oriented request such as completion, if we have no package metadata containing that file, load a `file=` query (but keep track of files that can't be loaded so we don't keep trying).\r\n5. When processing a workspace-wide request such as references, load all the packages invalidated by steps (2) and (3) with a  query containing all the invalidated package paths.\r\n\r\nThis loading pattern evolved to ensure we don't miss metadata changes, and can operate on a file as soon as possible. Notably, it was only chosen based on the go command behavior, and generally works because `go list` is heavily optimized. Even loading a relatively large project such as Kubernetes takes only a few seconds.\r\n\r\nHowever, there are some improvements to be desired:\r\n- It would be nice to be able to handle low latency \"best effort\" requests such as completion with stale metadata. Most metadata changes are the addition or deletion of an import, and most type checking can still be performed (this was previously worked on in #42266, though that approach had some problems). In gopls terminology, I think the right way to do this is to have loads create a new snapshot, and let some requests operate on the earlier snapshot.\r\n- We don't necessarily need to load with `-deps` when we're just selectively reloading a file or package. We can theoretically instead load without `-deps`, see which imports (if any) are missing, and then load those missing imports in a second pass.\r\n- In many cases we don't need to invalidate the reverse transitive closure recursively (again, with the common case being the addition or deletion of an import). I believe this is only necessary for x_test packages which may pick up an intermediate test variant. If we can convince ourselves of this, then maybe we only need to invalidate x_test packages in the reverse transitive closure...\r\n- When the queue of packages to load become large, it's usually faster (even with the go command) to reload the entire workspace. We can have a threshold at which point we decide just to reload `<modulePath>/...`.\r\n\r\nWe should experiment with these improvements. I believe they should be of particular help for users of a bazel go/packages drivers, as bazel queries have significantly higher overhead than the go command.\r\n\r\nCC @adonovan @JamyDev","reactions":{"url":"https://api.github.com/repos/golang/go/issues/68002/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/golang/go/issues/68002/timeline","performed_via_github_app":null,"state_reason":null}]